<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-ca" xml:lang="en-ca" class="_Skins_HTML5___Top_Navigation_Coronado" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Configuration tools|Lock fields">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Configure a form to display locked fields</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/MainStyles.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.select-language-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/select-language.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.previous-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.remove-highlight-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/highlight.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../Resources/TableStyles/PatternedRows.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/sanitize-html.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../A_Welcome pages/StartHere.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search our help and documentation" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="search-container">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie _Skins_SearchTopics mc-component">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="row collapse">
                                        <div class="top-bar">
                                            <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                <div class="button-group-container-left">
                                                    <button class="button needs-pie select-language-button" title="Change language">
                                                        <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="select language" />
                                                    </button>
                                                    <button class="button needs-pie print-button" title="Print">
                                                        <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                                    </button>
                                                    <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                                        <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                                    </button>
                                                    <button class="button needs-pie next-topic-button" title="Navigate next">
                                                        <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                                    </button>
                                                    <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                                        <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="remove highlight" />
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="nocontent">
                                                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                                </div>
                                            </div> </div>
                                        <div class="topic-layout">
                                            <div>
                                                <div class="side-menu">
                                                    <ul class="nocontent menu _Skins_SideMenu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/Release_2_TOC.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                                <div class="side-content">
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead dropDownHeadside-content"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Search Tips</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <p>Search is based on keyword.</p>
                                                            <p><samp>Ex:&#160;"Procedures"</samp>
                                                            </p>
                                                            <p>Do not search with natural language</p>
                                                            <p><samp>Ex:&#160;"How do I write a new procedure?"</samp>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div><a class="cta" href="https://technet.microsoft.com/en-us/library/mt812330.aspx"><div class="cta center"><p>Dynamics 365 Help
									</p></div></a>
                                            </div>
                                            <div>
                                                <h1><a name="aanchor37"></a>
                                                    <MadCap:concept term="Lock" />Configure a form to display locked fields</h1>
                                                <p>To enhance user experience, forms can display a lock icon on fields that are locked. Locked fields cannot be modified until the lock is removed.</p>
                                                <p>At the time of GCPM's release, the following entities were configured to display lock icons when the record is locked:</p>
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />List of entities that may be locked</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <ul>
                                                            <li value="1"><code>egcs_ayrisktemplate</code>
                                                            </li>
                                                            <li value="2"><code>egcs_ayrisktemplatecriterion</code>
                                                            </li>
                                                            <li value="3"><code>egcs_ayrisktemplatesubcriterion</code>
                                                            </li>
                                                            <li value="4"><code>egcs_fc_advance</code>
                                                            </li>
                                                            <li value="5"><code>egcs_fc_advanceitem</code>
                                                            </li>
                                                            <li value="6"><code>egcs_fc_cashflow</code>
                                                            </li>
                                                            <li value="7"><code>egcs_fc_claim</code>
                                                            </li>
                                                            <li value="8"><code>egcs_fc_claimitem</code>
                                                            </li>
                                                            <li value="9"><code>egcs_fc_costitem</code>
                                                            </li>
                                                            <li value="10"><code>egcs_fc_disbreview</code>
                                                            </li>
                                                            <li value="11"><code>egcs_fc_disbreview_fc_advanceitem</code>
                                                            </li>
                                                            <li value="12"><code>egcs_fc_disbreview_fc_claimitem</code>
                                                            </li>
                                                            <li value="13"><code>egcs_fc_fundingsourceelement</code>
                                                            </li>
                                                            <li value="14"><code>egcs_fc_monitoring</code>
                                                            </li>
                                                            <li value="15"><code>egcs_fc_monitoringques</code>
                                                            </li>
                                                            <li value="16"><code>egcs_fc_paye</code>
                                                            </li>
                                                            <li value="17"><code>egcs_fc_projectresult</code>
                                                            </li>
                                                            <li value="18"><code>egcs_fc_repaymentscheduleitem</code>
                                                            </li>
                                                            <li value="19"><code>egcs_fcriskassessment</code>
                                                            </li>
                                                            <li value="20"><code>egcs_fcriskassessmentcriterion</code>
                                                            </li>
                                                            <li value="21"><code>egcs_fcriskassessmentsubcriterion</code>
                                                            </li>
                                                            <li value="22"><code>egcs_fctpay_assessmentquestion</code>
                                                            </li>
                                                            <li value="23"><code>egcs_fctpay_disbchecklistquestion</code>
                                                            </li>
                                                            <li value="24"><code>egcs_sg_monitoring</code>
                                                            </li>
                                                            <li value="25"><code>egcs_sg_monitoringques</code>
                                                            </li>
                                                            <li value="26"><code>egcs_shriskassessment</code>
                                                            </li>
                                                            <li value="27"><code>egcs_shriskassessmentcriterion</code>
                                                            </li>
                                                            <li value="28"><code>egcs_shriskassessmentsubcriterion</code>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <p>To configure a form to display a lock icon:&#160;</p>
                                                <ol>
                                                    <li value="1">
                                                        <p>Go to the form that you wish to display a lock icon, and click <b>Form properties</b>:</p>
                                                        <ul>
                                                            <li value="1">
                                                                <p>If there is a form library reference to <code>egcs_/shared/js/main.js</code>, the form is already configured.<br /><p><a class="MCPopupThumbnailLink MCPopupThumbnailHover" href="../../Resources/Images/ConfigTools/Lock/FormProperties.png"><img class="MCPopupThumbnail img" data-mc-width="785" data-mc-height="691" src="../../Resources/Images/ConfigTools/Lock/FormProperties_thumb_0_48.png" tabindex="" /></a></p></p>
                                                            </li>
                                                            <li value="2">If there is no reference, this form is not  configured (other forms for this entity may be)&#160;or this entity is not yet configured.</li>
                                                        </ul>
                                                    </li>
                                                    <li value="2">
                                                        <p>To determine whether this entity has been configured to use the GCPM JavaScript framework, go to the <code>GCPM_JS</code> solution and look for a web resource with the name <code>egcs_/entities/&lt;entity name&gt;/forms/default.js</code>. </p>
                                                    </li>
                                                    <li value="3">If none exists, create a web resource in TypeScript format. It will make a reference to <code>import { LockField }</code> from <code>egcs_/shared/js/lock";"</code>. </li>
                                                    <li value="4">See the files for any of the entities mentioned above for an example.<br /></li>
                                                </ol>
                                                <p><b>Code disclaimer</b>:&#160;Creating a new javascript file or any new code, server-side or otherwise, should be discussed with the GCPM cluster as this could become a shared feature incorporated into a future GCPM release. This will be updated once the method for contacting the GCPM team post-transition project is determined.</p>
                                                <h2>CroweGrids</h2>
                                                <p>CROWE grids on the form to be locked need to have a JavaScript library to set locked fields' columns as read-only for locked records, to ensure the user can only edit fields that are unlocked in the grid. The entity's lock field column must be included, even if it is not visible.</p>
                                                <p>The <code>lockFieldOnGrid</code> function uses a parameter with the name of the grid's entity that is passed using a custom argument. </p>
                                                <p>Note:&#160;These configurations are for UI enhancement only. If this is not implemented and a user attempts to edit a locked record, the system will still deny the save attempt with an error message to the user.</p>
                                                <p>To ensure users can only edit fields that are unlocked (when displayed in a grid):&#160;</p>
                                                <ol>
                                                    <li value="1">Open the form that displays locked values in a CROWE&#160;grid. </li>
                                                    <li value="2">Lock the CROWE grids on the form. This requires a JavaScript library to set locked fields' columns read-only for locked records (see table below).</li>
                                                    <li value="3">Be sure to include the entity's lock field column, even if it is not visible.</li>
                                                    <li value="4">Save and close the form. </li>
                                                </ol>
                                                <table style="width: 70%;mc-table-style: url('../../Resources/TableStyles/PatternedRows.css');" class="TableStyle-PatternedRows" cellspacing="0">
                                                    <col class="TableStyle-PatternedRows-Column-Regular" />
                                                    <col class="TableStyle-PatternedRows-Column-Regular" />
                                                    <col class="TableStyle-PatternedRows-Column-Regular" />
                                                    <thead>
                                                        <tr class="TableStyle-PatternedRows-Head-Header1">
                                                            <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">
                                                                <p>Library Name	</p>
                                                            </th>
                                                            <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">
                                                                <p>Event</p>
                                                            </th>
                                                            <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">
                                                                <p>Function name</p>
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                                                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                                                <p><code>egcs_CROWE_lockFieldsOnGrid</code>
                                                                </p>
                                                            </td>
                                                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                                                <p>On Edit</p>
                                                            </td>
                                                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                                                <p><code>lockFieldsOnGrid</code>
                                                                </p>
                                                            </td>
                                                        </tr>
                                                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                                                            <td class="TableStyle-PatternedRows-BodyB-Regular-DarkerRows">
                                                                <p><code>egcs_SDK.WEBAPI</code>
                                                                </p>
                                                            </td>
                                                            <td class="TableStyle-PatternedRows-BodyB-Regular-DarkerRows">
                                                                <p>Load Reference</p>
                                                            </td>
                                                            <td class="TableStyle-PatternedRows-BodyA-Regular-DarkerRows">
                                                                <p><code>SDK.WEBAPI</code>
                                                                </p>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                <p>Grid settings on form:&#160;</p>
                                                <ul>
                                                    <li value="1">Select the grid option&#160;<b>pass record object-type code and unique identifier as parameters</b>.</li>
                                                    <li value="2">Custom argument:&#160;<code>config=Grid Name&amp;entity=egcs_entityName</code></li>
                                                </ul>
                                                <p>Be aware of any other features on the form that might need to be modified once the lock plugin is implemented. The <code>egcs_LockMetadata</code> script might be useful to retrieve <b>CFG Lock</b> and <b>CFG Lock Field</b> information as well as to evaluate if the record is locked. </p>
                                                <p>Example:&#160;</p>
                                                <ul>
                                                    <li value="1">Look at the modifications to the <code>FC Disbursement Review FC Claim Item</code> gridâ€™s Split Toolbar Button to prevent splitting a Claim Review of a locked disbursement review.</li>
                                                </ul>
                                                <p><a class="MCHelpControl MCHelpControl-Concept conceptLink" data-mc-concepts="Lock" href="javascript:void(0);" data-mc-topics="About the lock plugin|About Lock Plugin.htm#aanchor43||Configure a form to display locked fields|#aanchor37||Configure lock records|CFG Lock.htm#aanchor196||Configure locking field records|CFG Locking Field.htm#aanchor57||Key steps to configuring the lock|Key steps Lock.htm#aanchor403||Override a lock|OverrideLockPlugin.htm#aanchor361||Using the Lock plugin|Use Lock plugin.htm#aanchor363"><span class="MCHelpControl-ConceptHotSpot_"><img class="MCHelpControl_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="16" alt="Concept Link Icon" />See Also</span></a>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>